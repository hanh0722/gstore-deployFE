{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useReducer, useCallback } from \"react\";\nconst initialState = {\n  data: null,\n  status: ''\n};\n\nconst httpReducer = (state, action) => {\n  switch (action.type) {\n    case 'PENDING':\n      return { ...state,\n        status: 'pending'\n      };\n\n    case 'COMPLETED':\n      return {\n        status: 'completed',\n        data: action.payload\n      };\n\n    case 'ERROR':\n      return {\n        status: 'error',\n        data: action.payload\n      };\n\n    default:\n      return initialState;\n  }\n};\n\nconst useHttp = () => {\n  _s();\n\n  const [state, dispatch] = useReducer(httpReducer, initialState);\n  const fetchingDataHandler = useCallback(async getResponse => {\n    dispatch({\n      type: 'PENDING'\n    });\n\n    try {\n      const response = await fetch(getResponse.url, {\n        method: getResponse.method ? getResponse.method : 'GET',\n        body: getResponse.body ? JSON.stringify(getResponse.body) : null,\n        headers: getResponse.headers ? getResponse.headers : {}\n      });\n\n      if (!response.ok) {\n        console.log(1);\n        throw new Error('something happened!');\n      }\n\n      const dataFetching = await response.json();\n      dispatch({\n        type: 'COMPLETED',\n        payload: dataFetching\n      });\n    } catch (err) {\n      console.log(err);\n      dispatch({\n        type: 'ERROR',\n        payload: err\n      });\n    }\n  }, []);\n  return { ...state,\n    fetchingDataHandler\n  };\n};\n\n_s(useHttp, \"MM86SPjefggDEmYK7tT8ntZv8jM=\");\n\nexport default useHttp;","map":{"version":3,"sources":["/Users/hoanganh0722/Desktop/Web/gstorevn/src/components/hook/use-http.js"],"names":["useReducer","useCallback","initialState","data","status","httpReducer","state","action","type","payload","useHttp","dispatch","fetchingDataHandler","getResponse","response","fetch","url","method","body","JSON","stringify","headers","ok","console","log","Error","dataFetching","json","err"],"mappings":";;AAAA,SAASA,UAAT,EAAqBC,WAArB,QAAwC,OAAxC;AAEA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,IAAI,EAAE,IADW;AAEjBC,EAAAA,MAAM,EAAE;AAFS,CAArB;;AAKA,MAAMC,WAAW,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAkB;AAClC,UAAOA,MAAM,CAACC,IAAd;AACI,SAAK,SAAL;AACI,aAAO,EACH,GAAGF,KADA;AAEHF,QAAAA,MAAM,EAAE;AAFL,OAAP;;AAIJ,SAAK,WAAL;AACI,aAAO;AACHA,QAAAA,MAAM,EAAE,WADL;AAEHD,QAAAA,IAAI,EAAEI,MAAM,CAACE;AAFV,OAAP;;AAIJ,SAAK,OAAL;AACI,aAAM;AACFL,QAAAA,MAAM,EAAE,OADN;AAEFD,QAAAA,IAAI,EAAEI,MAAM,CAACE;AAFX,OAAN;;AAIJ;AACI,aAAOP,YAAP;AAjBR;AAmBH,CApBD;;AAqBA,MAAMQ,OAAO,GAAG,MAAK;AAAA;;AACjB,QAAM,CAACJ,KAAD,EAAQK,QAAR,IAAoBX,UAAU,CAACK,WAAD,EAAcH,YAAd,CAApC;AAEA,QAAMU,mBAAmB,GAAGX,WAAW,CAAC,MAAOY,WAAP,IAAsB;AAC1DF,IAAAA,QAAQ,CAAC;AACLH,MAAAA,IAAI,EAAE;AADD,KAAD,CAAR;;AAGA,QAAG;AACC,YAAMM,QAAQ,GAAG,MAAMC,KAAK,CAACF,WAAW,CAACG,GAAb,EAAkB;AAC1CC,QAAAA,MAAM,EAAEJ,WAAW,CAACI,MAAZ,GAAqBJ,WAAW,CAACI,MAAjC,GAA0C,KADR;AAE1CC,QAAAA,IAAI,EAAEL,WAAW,CAACK,IAAZ,GAAmBC,IAAI,CAACC,SAAL,CAAeP,WAAW,CAACK,IAA3B,CAAnB,GAAsD,IAFlB;AAG1CG,QAAAA,OAAO,EAAGR,WAAW,CAACQ,OAAZ,GAAsBR,WAAW,CAACQ,OAAlC,GAA4C;AAHZ,OAAlB,CAA5B;;AAKA,UAAG,CAACP,QAAQ,CAACQ,EAAb,EAAgB;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAY,CAAZ;AACA,cAAM,IAAIC,KAAJ,CAAU,qBAAV,CAAN;AACH;;AACD,YAAMC,YAAY,GAAG,MAAMZ,QAAQ,CAACa,IAAT,EAA3B;AACAhB,MAAAA,QAAQ,CAAC;AACLH,QAAAA,IAAI,EAAE,WADD;AAELC,QAAAA,OAAO,EAAEiB;AAFJ,OAAD,CAAR;AAIH,KAfD,CAeC,OAAME,GAAN,EAAU;AACPL,MAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACAjB,MAAAA,QAAQ,CAAC;AACLH,QAAAA,IAAI,EAAE,OADD;AAELC,QAAAA,OAAO,EAAEmB;AAFJ,OAAD,CAAR;AAIH;AACJ,GA1BsC,EA0BpC,EA1BoC,CAAvC;AA2BA,SAAO,EACH,GAAGtB,KADA;AAEHM,IAAAA;AAFG,GAAP;AAIH,CAlCD;;GAAMF,O;;AAoCN,eAAeA,OAAf","sourcesContent":["import { useReducer, useCallback } from \"react\";\n\nconst initialState = {\n    data: null,\n    status: ''\n}\n\nconst httpReducer = (state, action) =>{\n    switch(action.type){\n        case 'PENDING':\n            return {\n                ...state,\n                status: 'pending'\n            }\n        case 'COMPLETED':\n            return {\n                status: 'completed',\n                data: action.payload\n            }\n        case 'ERROR':\n            return{\n                status: 'error',\n                data: action.payload\n            }\n        default:\n            return initialState;\n    }\n}\nconst useHttp = () =>{\n    const [state, dispatch] = useReducer(httpReducer, initialState);\n    \n    const fetchingDataHandler = useCallback(async (getResponse) =>{\n        dispatch({\n            type: 'PENDING'\n        })\n        try{\n            const response = await fetch(getResponse.url, {\n                method: getResponse.method ? getResponse.method : 'GET',\n                body: getResponse.body ? JSON.stringify(getResponse.body) : null,\n                headers : getResponse.headers ? getResponse.headers : {}\n            });\n            if(!response.ok){\n                console.log(1);\n                throw new Error('something happened!');\n            }\n            const dataFetching = await response.json();\n            dispatch({\n                type: 'COMPLETED',\n                payload: dataFetching\n            })\n        }catch(err){\n            console.log(err);\n            dispatch({\n                type: 'ERROR',\n                payload: err\n            })\n        }\n    }, [])\n    return {\n        ...state,\n        fetchingDataHandler\n    }\n}\n\nexport default useHttp;"]},"metadata":{},"sourceType":"module"}