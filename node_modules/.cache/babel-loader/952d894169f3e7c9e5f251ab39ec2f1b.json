{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst initialState = {\n  status: \"pending\",\n  posts: [],\n  error: null\n};\nconst postsSlice = createSlice({\n  name: \"get-posts\",\n  initialState: initialState,\n  reducers: {\n    getAllPostsHandler(state, action) {\n      state.posts = action.payload, state.status = \"completed\";\n    },\n\n    errorHandler(state, action) {\n      state.error = action.payload;\n    },\n\n    pendingHandler(state) {\n      state.status = \"pending\";\n    },\n\n    finishedHandler(state) {\n      state.status = 'completed';\n    }\n\n  }\n});\nexport const fetchingPosts = () => {\n  return dispatch => {\n    dispatch(postsActions.pendingHandler());\n    fetch('http://localhost:3001/get-all-posts').then(response => response.json()).then(data => {\n      dispatch(postsActions.getAllPostsHandler(data));\n    }).catch(err => dispatch(postsActions.errorHandler(err)));\n  };\n};\nexport const postsActions = postsSlice.actions;\nexport default postsSlice;","map":{"version":3,"sources":["/Users/hoanganh0722/Desktop/Web/gstorevn/src/components/redux-store/get-posts.js"],"names":["createSlice","initialState","status","posts","error","postsSlice","name","reducers","getAllPostsHandler","state","action","payload","errorHandler","pendingHandler","finishedHandler","fetchingPosts","dispatch","postsActions","fetch","then","response","json","data","catch","err","actions"],"mappings":"AAAA,SAASA,WAAT,QAA4B,kBAA5B;AACA,MAAMC,YAAY,GAAG;AACnBC,EAAAA,MAAM,EAAE,SADW;AAEnBC,EAAAA,KAAK,EAAE,EAFY;AAGnBC,EAAAA,KAAK,EAAE;AAHY,CAArB;AAMA,MAAMC,UAAU,GAAGL,WAAW,CAAC;AAC7BM,EAAAA,IAAI,EAAE,WADuB;AAE7BL,EAAAA,YAAY,EAAEA,YAFe;AAG7BM,EAAAA,QAAQ,EAAE;AACRC,IAAAA,kBAAkB,CAACC,KAAD,EAAQC,MAAR,EAAgB;AAC/BD,MAAAA,KAAK,CAACN,KAAN,GAAcO,MAAM,CAACC,OAAtB,EAAiCF,KAAK,CAACP,MAAN,GAAe,WAAhD;AACD,KAHO;;AAIRU,IAAAA,YAAY,CAACH,KAAD,EAAQC,MAAR,EAAgB;AAC1BD,MAAAA,KAAK,CAACL,KAAN,GAAcM,MAAM,CAACC,OAArB;AACD,KANO;;AAORE,IAAAA,cAAc,CAACJ,KAAD,EAAQ;AACpBA,MAAAA,KAAK,CAACP,MAAN,GAAe,SAAf;AACD,KATO;;AAURY,IAAAA,eAAe,CAACL,KAAD,EAAO;AAClBA,MAAAA,KAAK,CAACP,MAAN,GAAe,WAAf;AACH;;AAZO;AAHmB,CAAD,CAA9B;AAmBA,OAAO,MAAMa,aAAa,GAAG,MAAM;AAC/B,SAAQC,QAAD,IAAa;AAChBA,IAAAA,QAAQ,CAACC,YAAY,CAACJ,cAAb,EAAD,CAAR;AACAK,IAAAA,KAAK,CAAC,qCAAD,CAAL,CACCC,IADD,CACMC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EADlB,EAECF,IAFD,CAEMG,IAAI,IAAG;AACTN,MAAAA,QAAQ,CAACC,YAAY,CAACT,kBAAb,CAAgCc,IAAhC,CAAD,CAAR;AACH,KAJD,EAIGC,KAJH,CAISC,GAAG,IAAIR,QAAQ,CAACC,YAAY,CAACL,YAAb,CAA0BY,GAA1B,CAAD,CAJxB;AAMH,GARD;AASD,CAVI;AAYP,OAAO,MAAMP,YAAY,GAAGZ,UAAU,CAACoB,OAAhC;AACP,eAAepB,UAAf","sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\nconst initialState = {\n  status: \"pending\",\n  posts: [],\n  error: null,\n};\n\nconst postsSlice = createSlice({\n  name: \"get-posts\",\n  initialState: initialState,\n  reducers: {\n    getAllPostsHandler(state, action) {\n      (state.posts = action.payload), (state.status = \"completed\");\n    },\n    errorHandler(state, action) {\n      state.error = action.payload;\n    },\n    pendingHandler(state) {\n      state.status = \"pending\";\n    },\n    finishedHandler(state){\n        state.status = 'completed'\n    }\n  },\n});\n\nexport const fetchingPosts = () => {\n    return (dispatch) =>{\n        dispatch(postsActions.pendingHandler());\n        fetch('http://localhost:3001/get-all-posts')\n        .then(response => response.json())\n        .then(data =>{\n            dispatch(postsActions.getAllPostsHandler(data));\n        }).catch(err => dispatch(postsActions.errorHandler(err)));\n        \n    }\n  };\n\nexport const postsActions = postsSlice.actions;\nexport default postsSlice;\n"]},"metadata":{},"sourceType":"module"}